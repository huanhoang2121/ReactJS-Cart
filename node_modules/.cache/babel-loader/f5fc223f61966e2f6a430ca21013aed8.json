{"ast":null,"code":"import * as types from \"./../constants/ActionType\"; // var data = JSON.parse(localStorage.getItem(\"CART\"));\n\nvar initialState = //data ? data : \n[{\n  product: {\n    id: 2,\n    name: \"Iphone 7 Plus\",\n    image: \"https://store.storeimages.cdn-apple.com/4974/as-images.apple.com/is/image/AppleInc/aos/published/images/H/H0/HH0H2/HH0H2?wid=445&hei=445&fmt=jpeg&qlt=95&op_sharpen=0&resMode=bicub&op_usm=0.5,0.5,0,0&iccEmbed=0&layer=comp&.v=K7ik72\",\n    description: \"Sản phẩm do Apple sản xuất\",\n    price: 1000,\n    inventory: 25,\n    rating: 4\n  },\n  quantity: 2\n}, {\n  product: {\n    id: 3,\n    name: \"Nokia 6.1 Plus\",\n    image: \"https://cdn.cellphones.com.vn/media/catalog/product/cache/7/image/9df78eab33525d08d6e5fb8d27136e95/6/3/636737264632684088_nokia6plus-trang-1.jpg\",\n    description: \"Sản phẩm do Nokia sản xuất\",\n    price: 500,\n    inventory: 15,\n    rating: 3\n  },\n  quantity: 3\n}];\n\nconst reducer = (state = initialState, action) => {\n  var product = action.product,\n      quantity = action.quantity;\n  var index = -1;\n\n  switch (action.type) {\n    case types.ADD_TO_CARD:\n      index = findProductInCart(state, product);\n      state.push({\n        product,\n        quantity\n      });\n      return [...state];\n\n    default:\n      return [...state];\n  }\n};\n\nvar findProductInCart = (carts, product) => {\n  var index = -1;\n\n  if (carts.length > 0) {\n    for (var i = 0; i < carts.length; i++) {\n      if (carts[i].product.id === product.id) {\n        index = i;\n        break;\n      }\n    }\n  }\n\n  return index;\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/dev/Documents/shoping-cart/src/reducers/carts.js"],"names":["types","initialState","product","id","name","image","description","price","inventory","rating","quantity","reducer","state","action","index","type","ADD_TO_CARD","findProductInCart","push","carts","length","i"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,2BAAvB,C,CACA;;AACA,IAAIC,YAAY,GAAG;AACf,CACI;AACIC,EAAAA,OAAO,EAAE;AACLC,IAAAA,EAAE,EAAG,CADA;AAELC,IAAAA,IAAI,EAAG,eAFF;AAGLC,IAAAA,KAAK,EAAG,wOAHH;AAILC,IAAAA,WAAW,EAAE,4BAJR;AAKLC,IAAAA,KAAK,EAAG,IALH;AAMLC,IAAAA,SAAS,EAAE,EANN;AAOLC,IAAAA,MAAM,EAAG;AAPJ,GADb;AAUIC,EAAAA,QAAQ,EAAE;AAVd,CADJ,EAaI;AACIR,EAAAA,OAAO,EAAE;AACLC,IAAAA,EAAE,EAAE,CADC;AAELC,IAAAA,IAAI,EAAE,gBAFD;AAGLC,IAAAA,KAAK,EAAE,kJAHF;AAILC,IAAAA,WAAW,EAAE,4BAJR;AAKLC,IAAAA,KAAK,EAAE,GALF;AAMLC,IAAAA,SAAS,EAAE,EANN;AAOLC,IAAAA,MAAM,EAAE;AAPH,GADb;AAUIC,EAAAA,QAAQ,EAAE;AAVd,CAbJ,CADJ;;AA4BA,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGX,YAAT,EAAuBY,MAAvB,KAAkC;AAAA,MACxCX,OADwC,GAClBW,MADkB,CACxCX,OADwC;AAAA,MAC/BQ,QAD+B,GAClBG,MADkB,CAC/BH,QAD+B;AAE9C,MAAII,KAAK,GAAG,CAAC,CAAb;;AACA,UAAQD,MAAM,CAACE,IAAf;AACI,SAAKf,KAAK,CAACgB,WAAX;AACIF,MAAAA,KAAK,GAAGG,iBAAiB,CAACL,KAAD,EAAQV,OAAR,CAAzB;AACAU,MAAAA,KAAK,CAACM,IAAN,CAAW;AACPhB,QAAAA,OADO;AAEPQ,QAAAA;AAFO,OAAX;AAIA,aAAO,CAAC,GAAGE,KAAJ,CAAP;;AACJ;AACI,aAAO,CAAC,GAAGA,KAAJ,CAAP;AATR;AAWH,CAdD;;AAeA,IAAIK,iBAAiB,GAAG,CAACE,KAAD,EAAQjB,OAAR,KAAoB;AACxC,MAAIY,KAAK,GAAG,CAAC,CAAb;;AACA,MAAIK,KAAK,CAACC,MAAN,GAAe,CAAnB,EAAsB;AAClB,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACF,KAAK,CAACC,MAArB,EAA6BC,CAAC,EAA9B,EAAiC;AAC7B,UAAGF,KAAK,CAACE,CAAD,CAAL,CAASnB,OAAT,CAAiBC,EAAjB,KAAwBD,OAAO,CAACC,EAAnC,EAAsC;AAClCW,QAAAA,KAAK,GAAGO,CAAR;AACA;AACH;AACJ;AACJ;;AACD,SAAOP,KAAP;AACH,CAXD;;AAaA,eAAeH,OAAf","sourcesContent":["import * as types from \"./../constants/ActionType\";\n// var data = JSON.parse(localStorage.getItem(\"CART\"));\nvar initialState = //data ? data : \n    [\n        {\n            product: {\n                id : 2,\n                name : \"Iphone 7 Plus\",\n                image : \"https://store.storeimages.cdn-apple.com/4974/as-images.apple.com/is/image/AppleInc/aos/published/images/H/H0/HH0H2/HH0H2?wid=445&hei=445&fmt=jpeg&qlt=95&op_sharpen=0&resMode=bicub&op_usm=0.5,0.5,0,0&iccEmbed=0&layer=comp&.v=K7ik72\",\n                description: \"Sản phẩm do Apple sản xuất\",\n                price : 1000,\n                inventory :25,\n                rating : 4\n            },\n            quantity: 2\n        },\n        {\n            product: {\n                id: 3,\n                name: \"Nokia 6.1 Plus\",\n                image: \"https://cdn.cellphones.com.vn/media/catalog/product/cache/7/image/9df78eab33525d08d6e5fb8d27136e95/6/3/636737264632684088_nokia6plus-trang-1.jpg\",\n                description: \"Sản phẩm do Nokia sản xuất\",\n                price: 500,\n                inventory: 15,\n                rating: 3\n            },\n            quantity: 3\n        }\n    ];\n\nconst reducer = (state = initialState, action) => {\n    var { product, quantity } = action;\n    var index = -1;\n    switch (action.type) {\n        case types.ADD_TO_CARD:\n            index = findProductInCart(state, product);\n            state.push({\n                product,\n                quantity\n            });\n            return [...state];\n        default:\n            return [...state];\n    }\n}\nvar findProductInCart = (carts, product) => {\n    var index = -1;\n    if (carts.length > 0) {\n        for(var i=0; i<carts.length; i++){\n            if(carts[i].product.id === product.id){\n                index = i;\n                break;\n            }\n        }\n    }\n    return index;\n}\n\nexport default reducer;"]},"metadata":{},"sourceType":"module"}